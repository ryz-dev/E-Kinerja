DELIMITER $$
	CREATE TRIGGER checkinout_after_insert AFTER INSERT
	ON checkinout
	FOR EACH ROW
		BEGIN
			DECLARE nip VARCHAR(20);
			DECLARE is_exist INT;

			SET @nip = (SELECT Card FROM userinfo WHERE userid = NEW.userid);

			SET @is_exist = (SELECT COUNT(e_kinerja.checkinout.nip) FROM e_kinerja.checkinout WHERE e_kinerja.checkinout.nip = @nip AND e_kinerja.checkinout.checktime = NEW.checktime);

			IF @is_exist = 0
			THEN
				INSERT INTO e_kinerja.checkinout (nip,checktime,checktype,sn) values(@nip, NEW.checktime, NEW.checktype,NEW.SN);
			END IF;
		END$$
DELIMITER ;